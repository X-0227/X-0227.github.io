<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>权力不对等下性侵案件的背后</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#ff6b8b',
                        secondary: '#ff9aa2',
                        accent: '#ffb7b2',
                        light: '#ffe6f0',
                        dark: '#5a3921',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
		// 预加载漫画图片
    document.addEventListener('DOMContentLoaded', function() {
      // 漫画图片路径列表（与原代码中的comicGroups对应）
      const allComicImages = [
        "comics/comic-1.png", "comics/comic-2.png", "comics/comic-3.png",
        "comics/comic-4.png", "comics/comic-5.png", "comics/comic-6.png",
        "comics/comic-7.png", "comics/comic-8.png", "comics/comic-9.png",
        "comics/comic-10.png", "comics/comic-11.png", "comics/comic-12.png",
        "comics/comic-13.png", "comics/comic-14.png", "comics/comic-15.png",
        "comics/comic-16.png", "comics/comic-17.png", "comics/comic-18.png",
		"comics/balance.png", "comics/hug.png", "comics/book.png",
        "comics/sun.png", "comics/girl1.png", "comics/girl2.png",
        "comics/page6.png"
      ];

      // 预加载计数器（用于跟踪加载进度）
      let loadedCount = 0;
      const totalCount = allComicImages.length;

      // 遍历图片列表，创建Image对象预加载
      allComicImages.forEach(src => {
        const img = new Image();
        // 图片加载完成时计数
        img.onload = function() {
          loadedCount++;
          console.log(`预加载完成：${src}（${loadedCount}/${totalCount}）`);
        };
        // 图片加载失败时提示
        img.onerror = function() {
          console.error(`预加载失败：${src}`);
        };
        // 开始加载图片
        img.src = src;
      });
    });
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
		/* 替换原页面8相关样式，添加在@layer utilities之后 */
#page8 {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    padding-top: 80px;
}

#negative-area {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #fff3f3;
    position: relative;
    overflow: hidden;
    width: 100%;
    max-width: none;
    margin: 0;
    min-height: auto;
    border-radius: 0;
}

#positive-pool {
    height: 40vh;
    background: #f0fff3;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-content: center;
    padding: 20px;
    box-sizing: border-box;
    width: 100%;
    max-width: none;
    margin: 0;
}

.negative-word, .positive-large {
    font-size: 6vw;
    padding: 40px 60px;
    border-radius: 20px;
    transition: all 0.4s ease;
    animation: fadeIn 0.5s forwards;
    box-shadow: 3px 3px 12px rgba(0,0,0,0.15);
    text-align: center;
}

.negative-word {
    background-color: #f8d7da;
    color: #721c24;
}

.positive-large {
    background-color: #d4edda;
    color: #155724;
    animation: purifyFlash 0.8s ease-in-out;
    box-shadow: 0 0 20px #a2f5b6, 0 0 40px #88ff9a;
    position: relative;
}

.positive-word {
    margin: 10px;
    padding: 12px 18px;
    font-size: 1.2em;
    background-color: #d4edda;
    color: #155724;
    border-radius: 12px;
    cursor: grab;
    user-select: none;
    font-weight: bold;
    transition: transform 0.2s, background-color 0.3s;
}

.positive-word:hover {
    transform: scale(1.1);
    background-color: #b2dfb2;
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.8); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes fadeOut {
    to { opacity: 0; transform: scale(0.8); }
}

@keyframes purifyFlash {
    0% { transform: scale(1); box-shadow: 0 0 5px #caffd2; }
    50% { transform: scale(1.15); box-shadow: 0 0 30px #6fff91, 0 0 60px #00ff6a; }
    100% { transform: scale(1); box-shadow: 0 0 10px #a0e5b0; }
}
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            }

            .animate-float {
                animation: float 6s ease-in-out infinite;
            }

            .animate-appear {
                animation: appear 2s forwards;
            }

            .animate-scale-up {
                animation: scale-up 3s forwards;
            }

            .music-spin {
                animation: spin 4s linear infinite;
            }
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-15px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        @keyframes appear {
            0% {
                opacity: 0;
                transform: scale(0.2);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes scale-up {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            100% {
                transform: scale(10);
                opacity: 0;
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .word-item {
            position: absolute;
            pointer-events: none;
            user-select: none;
            white-space: nowrap;
        }

        .section {
            min-height: 100vh;
            padding-top: 80px;
            position: relative;
        }

        .nav-link {
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -2px;
            left: 0;
            background-color: #ff6b8b;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        /* 页面2样式 */
        #labels {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .label {
            padding: 8px 16px;
            border-radius: 20px;
            background-color: #ff6b8b;
            color: white;
            cursor: grab;
            user-select: none;
            transition: all 0.3s;
            font-weight: bold;
        }

        .label.disabled {
            background-color: #a4b0be;
            cursor: not-allowed;
        }

        #bar-container {
            position: relative;
            width: 80%;
            max-width: 800px;
            height: 60px;
            margin: 0 auto;
            background-color: #f1f2f6;
            border-radius: 30px;
            overflow: hidden;
        }

        .fill-segment {
            position: absolute;
            top: 0;
            height: 100%;
            transition: width 1s ease-in-out;
        }

        #teacher-fill {
            background-color: #ff6b8b;
        }

        #relative-fill {
            background-color: #ff9aa2;
        }

        #work-fill {
            background-color: #ffb7b2;
        }

        #text-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            color: #5a3921;
            white-space: nowrap;
        }

        #footnote {
            margin-top: 20px;
            text-align: center;
            font-size: 14px;
            color: #5a3921;
        }

        /* 页面3样式 */
        .emoji {
            position: absolute;
            font-size: 40px;
            pointer-events: none;
            transition: all 0.5s;
        }

        /* 页面4样式 */
        #negative-area {
            min-height: 150px;
            width: 80%;
            max-width: 600px;
            margin: 50px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            background-color: #ffe6f0;
        }

        .negative-word {
            font-size: 4vw;
            color: #ff4757;
            font-weight: bold;
            transition: all 0.5s;
        }

        .positive-large {
            font-size: 4vw;
            color: #2ecc71;
            font-weight: bold;
            transition: all 0.5s;
        }

        #positive-pool {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            width: 80%;
            max-width: 800px;
            margin: 30px auto;
        }

        .positive-word {
            padding: 10px 20px;
            border-radius: 20px;
            background-color: #2ecc71;
            color: white;
            cursor: grab;
            user-select: none;
            transition: all 0.3s;
            font-weight: bold;
        }

        .positive-word:hover {
            transform: scale(1.1);
        }

        @keyframes fadeOut {
            0% {
                opacity: 1;
                transform: scale(1);
            }

            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        .section-title {
            font-size: clamp(1.5rem, 3vw, 2.5rem);
            font-weight: bold;
            color: #d93025;
            margin-bottom: 2rem;
        }

        .content-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            color: #ff6b8b;
            font-size: 24px;
        }
		.conclusion {
			margin: 0 auto; /* 水平居中 */
			width: 70%; /* 宽度为页面一半 */
			text-align: center; /* 文本居中（可选） */
			padding: 2rem; /* 内边距（可选，根据需要调整） */
			font-size: 1.1rem; /* 字体整体放大一点 */
			line-height: 1.8;
		}

        @keyframes bounce {
            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0) translateX(-50%);
            }

            40% {
                transform: translateY(-20px) translateX(-50%);
            }

            60% {
                transform: translateY(-10px) translateX(-50%);
            }
        }
		.first-indent {
        text-indent: 2em; /* 首行缩进2个字符宽度 */
    }

    </style>
</head>

<body class="bg-light min-h-screen overflow-x-hidden">
    <!-- 导航栏 -->
<nav id="main-nav" class="fixed top-0 left-0 w-full bg-white/90 backdrop-blur-md shadow-md z-50 transition-all duration-300">
    <div class="container mx-auto px-4 py-3">
        <!-- 使用flex容器包裹所有导航元素 -->
        <div class="flex justify-between items-center">
            <!-- 左侧logo -->
            <a href="#page1" class="text-primary font-bold text-xl">不想看你受一样的伤害——数说权力性侵下的共同救赎</a>
            
            <!-- 中间导航链接 - 仅桌面显示 -->
            <div class="hidden md:flex space-x-8">
                <a href="#page1" class="nav-link"></a>
                <a href="#page2" class="nav-link"></a>
                <a href="#page3" class="nav-link"></a>
                <a href="#page4" class="nav-link"></a>
                <a href="#page5" class="nav-link"></a>
            </div>
            
            <!-- 右侧控制区：音乐按钮和移动菜单按钮 -->
            <div class="flex items-center space-x-4">
                <button id="music-toggle" class="text-primary hover:text-primary/70 transition-colors">
                    <i class="fa fa-music text-2xl music-spin"></i>
                </button>
                <button id="mobile-menu-btn" class="md:hidden text-primary text-2xl">
                    <i class="fa fa-bars"></i>
                </button>
            </div>
        </div>
    </div>
</nav>


    <!-- 第1页：受害者的情感 -->
    <section id="page1" class="section flex items-center justify-center bg-light relative overflow-hidden">
        <!-- 背景装饰元素 -->
        <div class="fixed inset-0 overflow-hidden">
            <div class="absolute top-1/4 left-1/3 w-64 h-64 rounded-full bg-primary/10 animate-float"></div>
            <div class="absolute bottom-1/3 right-1/4 w-80 h-80 rounded-full bg-secondary/10 animate-float"
                style="animation-delay: 2s;"></div>
            <div class="absolute top-1/2 right-1/2 w-40 h-40 rounded-full bg-accent/10 animate-float"
                style="animation-delay: 4s;"></div>
        </div>

        <div class="content-container text-center z-10">
            <header class="mb-10">
                <h1 class="leading-tight">
                    <p class="text-[clamp(1.5rem,5vw,2.5rem)] font-medium text-dark mb-1">权力不对等下性侵案件</p>
                    <span class="text-[clamp(2.5rem,8vw,5rem)] font-bold text-primary block">数据预警</span>
                </h1>
            </header>

            <button id="start-btn"
                class="bg-primary hover:bg-primary/90 text-white font-bold py-4 px-12 rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-lg text-[clamp(1.2rem,3vw,1.5rem)] flex items-center mx-auto">
                <i class="fa fa-heartbeat mr-3"></i> 开始探索
            </button>

            
                </button>
            </div>
        </div>

        <!-- 音频元素 -->
		<audio id="bg-music" loop>
		  <source src="charts/bgm.mp3" type="audio/mpeg">
		  你的浏览器不支持音频播放
		</audio>

        <div class="scroll-indicator">
            <i class="fa fa-angle-down"></i>
        </div>
    </section>

    <!-- 第2页：导语 -->
    <section id="page2" class="section bg-white">
	<!-- 背景图片层 -->
    <div class="absolute inset-0 z-0 flex items-center justify-center">
        <img src="comics/girl1.png" 
             alt="背景图片描述" 
             class="max-w-[85%] max-h-[85%] object-contain opacity-30">
    </div>
        <div class="content-container">
            <h2 class="section-title">导语</h2>
            <div id="intro-text">
                <p class="intro-paragraph mb-6 first-indent">
                    世界卫生组织提供的数据表示，全球约有三分之一的女性曾经遭受过性暴力的残酷侵袭。在如此严峻的情况下，性侵案件层出不穷的原因引人深思。大多数人认为，性侵仅仅是“管不住下半身”的简单问题。但事实上，性侵的核心绝非性的表达，而是源于施暴者对控制和支配权力的渴望。根据维基百科调查显示，有51%的性骚扰和性侵犯是由具有监管性角色（supervisor）（老师、家长、上级等）性质的人所实施的，而监管性角色本质上都被赋予了某种权力。也就是说，性侵（sexual assault）会频繁发生在权力不对等（asymmetrical power）的关系中。而「权势性侵」就是指那些发生在权力不对等的关系中的“性”，其中包括言语层面的性挑逗、强迫进行肢体接触、强迫与对方发生性关系等。
                </p>
                <p class="intro-paragraph mb-6 first-indent">
                    在广西百色的校园里，教师本应是守护成长的力量，却有人将权力异化为伤害的利器。班主任唐毓文利用职务便利，以“补课”为由单独留下15岁学生符月华，在2017-2019年间多次对其实施性侵并威胁。这场持续的伤害让符月华陷入抑郁、自残，高考弃考、大学退学，最终在2025年1月选择结束生命。直到遗物中的日记和记录曝光，案件才浮出水面——2月唐毓文被停职、开除并采取强制措施，6月其对强奸罪与猥亵罪供认不讳。
                </p>
                <p class="intro-paragraph mb-6 first-indent">
                    这起案件撕开了校园权力失衡的残酷真相：教师的权威成了施暴的盾牌，让受害者在沉默中走向绝境。而这样的悲剧并非孤例：天津丽丽案中，权力压迫让受害者在漫长维权中反复挣扎；汤兰兰案里，亲属利用身份优势实施的侵害，更显权力不对等的隐秘与残酷……这些案件共同撕开了一个真相——当权力被异化为施暴工具，无论是校园、家庭还是社会场域，都可能成为伤害的温床。
                </p>
                <p class="intro-paragraph mb-6 first-indent">
                    权势性侵的阴影早已超出个案。女童保护基金《2023年性侵儿童案例统计分析报告》里141起熟人作案的案例中，教师、教职工（含教练、家教、补习老师等）作案58起，占比41.13%；亲人亲属（父亲、继父、继祖父、叔伯等）作案18起，占比12.77%。
				</p>
				<p class="intro-paragraph mb-6 first-indent">
					中华人民共和国最高人民法院在2023年发布的《两高关于办理强奸、猥亵未成年人刑事案件适用法律若干问题的解释》虽明确了特殊职责人员犯罪的从重处罚标准，但现实中证据搜集、权力边界界定的难题，仍让法律与现实间存在亟待丈量的距离。
				</p>
                <p class="intro-paragraph mb-6 first-indent">
                    本作品试图撕开这层权力黑幕——词云中喷涌的愤怒与司法图表中模糊的重刑率，共同指向一个系统性问题：当施暴者的身份（职业/地位）能扭曲司法天平时，正义如何实现？不断更新的数据警示我们：唯有将权力关进制度的牢笼，才能让每一份依赖不被异化为伤害的温床。
                </p>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fa fa-angle-down"></i>
        </div>
    </section>
<!-- 新增的漫画展示部分 -->
<section id="comic-section" class="section bg-white py-12">
    <div class="content-container">
        <h2 class="section-title text-center mb-8">权力不对等下的性侵案件情景再现</h2>
        
        <!-- 三组漫画容器，每组包含标题和图片区域 -->
        <div class="comic-group mb-12">
            <h3 class="text-2xl font-bold text-primary border-b-2 border-primary pb-2 mb-6">被至亲阴影笼罩的TA<span class="text-lg opacity-80 ml-2">（2008年黑龙江省汤兰兰案）</span></h3>
            <div id="group-1" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
        </div>
        
        <div class="comic-group mb-12">
            <h3 class="text-2xl font-bold text-primary border-b-2 border-primary pb-2 mb-6">青春被刻下隐秘伤痕的TA<span class="text-lg opacity-80 ml-2">（2025年广西百色市教师被举报性侵学生事件）</span></h3>
            <div id="group-2" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
        </div>
        
        <div class="comic-group">
            <h3 class="text-2xl font-bold text-primary border-b-2 border-primary pb-2 mb-6">职场里被权力围猎的TA<span class="text-lg opacity-80 ml-2 ">（2023年天津女子出差被老板性侵事件）</span></h3>
            <div id="group-3" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
        </div>
        
        <!-- 提示文字 -->
        <p id="comic-prompt" class="text-center mt-8 text-gray-600">
            点击图片区域查看下一张漫画（共18张）
        </p>
    </div>
</section>

<script>
// 漫画图片数据 - 按组划分
const comicGroups = [
    [
        "comics/comic-1.png", "comics/comic-2.png", "comics/comic-3.png",
        "comics/comic-4.png", "comics/comic-5.png", "comics/comic-6.png"
    ],
    [
        "comics/comic-7.png", "comics/comic-8.png", "comics/comic-9.png",
        "comics/comic-10.png", "comics/comic-11.png", "comics/comic-12.png"
    ],
    [
        "comics/comic-13.png", "comics/comic-14.png", "comics/comic-15.png",
        "comics/comic-16.png", "comics/comic-17.png", "comics/comic-18.png"
    ]
];

// 当前显示的图片索引（组索引和组内索引）
let currentGroup = 0;
let currentIndexInGroup = 0;

// 漫画组容器
const groupContainers = [
    document.getElementById('group-1'),
    document.getElementById('group-2'),
    document.getElementById('group-3')
];

// 提示文字
const comicPrompt = document.getElementById('comic-prompt');

// 初始化显示第一张图片
function initComics() {
    if (currentGroup < comicGroups.length && currentIndexInGroup < comicGroups[currentGroup].length) {
        addComicImage(
            comicGroups[currentGroup][currentIndexInGroup],
            groupContainers[currentGroup]
        );
    }
}

// 添加漫画图片（包含加载提示）
function addComicImage(src, container) {
    const imgContainer = document.createElement('div');
    imgContainer.className = 'comic-item overflow-hidden rounded-lg shadow-md transform transition-all duration-300 hover:shadow-xl hover:scale-[2.00] relative z-10';
    
    // 创建加载提示元素
    const loadingIndicator = document.createElement('div');
    loadingIndicator.className = 'loading-indicator absolute inset-0 flex items-center justify-center bg-gray-100 text-pink-500';
    loadingIndicator.textContent = '图片正在加载中...';
    imgContainer.appendChild(loadingIndicator);
    
    const img = document.createElement('img');
    img.src = src;
    img.alt = `漫画 ${currentGroup * 6 + currentIndexInGroup + 1}`;
    img.className = 'w-full h-auto object-cover opacity-0 transition-opacity duration-500';
    imgContainer.appendChild(img);
    
    container.appendChild(imgContainer);
    
    // 图片加载完成后隐藏加载提示并显示图片
    img.onload = function() {
        loadingIndicator.style.display = 'none';
        img.style.opacity = '1';
    };
    
    // 如果图片加载失败，显示错误提示
    img.onerror = function() {
        loadingIndicator.textContent = '图片加载失败';
        loadingIndicator.style.color = '#dc2626'; // 红色错误提示
        img.style.display = 'none';
    };
}

// 显示下一张图片的函数
function showNextComic() {
    // 先尝试在当前组显示下一张
    currentIndexInGroup++;
    if (currentIndexInGroup < comicGroups[currentGroup].length) {
        addComicImage(
            comicGroups[currentGroup][currentIndexInGroup],
            groupContainers[currentGroup]
        );
    } else {
        // 当前组显示完，切换到下一组
        currentGroup++;
        currentIndexInGroup = 0;
        if (currentGroup < comicGroups.length) {
            addComicImage(
                comicGroups[currentGroup][currentIndexInGroup],
                groupContainers[currentGroup]
            );
        }
    }
    
    // 更新提示文字
    const totalDisplayed = currentGroup * 6 + currentIndexInGroup + 1;
    const remaining = 18 - totalDisplayed;
    
    if (remaining > 0) {
        comicPrompt.textContent = `点击图片区域查看下一张漫画（还剩 ${remaining} 张）`;
    } else {
        comicPrompt.textContent = `已显示全部18张漫画，继续向下滚动查看更多内容`;
    }
}

// 为所有漫画组容器添加点击事件
groupContainers.forEach(container => {
    container.addEventListener('click', showNextComic);
});

// 页面加载时初始化
window.addEventListener('load', function() {
    // 确保漫画区域在视口中时才初始化
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                initComics();
                observer.disconnect();
            }
        });
    });
    
    observer.observe(document.getElementById('comic-section'));
});

</script>



    <!-- 第3页：一、词云风暴：沉默者的集体呐喊 -->
    <section id="page3" class="section bg-light">
        <div class="content-container">
            <h2 class="section-title">一、词云风暴：公众的集体呐喊</h2>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2">
                    <p class="mb-6 first-indent">
                        当“败类”、“禽兽不如”、“血馒头”等词汇喷薄而出时，这已不仅是对一桩悲剧的哀悼，而是对结构性暴力的血泪控诉：
					</p>
					<p class="mb-6 first-indent">
					</p>
					<p class="mb-6 first-indent">
						呐喊出 “希望严惩“、”死刑“、”支持“，表达了公众对正义最原始的嘶吼；受害者的地狱图景，高频词“创伤”、“恶心”，赤裸裸地勾勒出性侵幸存者的创伤炼狱。
					</p>
					<p class="mb-6 first-indent">
						与之交织的“反抗”、“希望”，则揭示了她们从深渊向上攀爬时，每一寸肌肤都沾满血泪的挣扎。图中多次出现“恶人”、“罪犯”、“畜生”、“人渣”、“垃圾”——这些极致贬斥的标签，是社会对施暴者的控诉。“保护”、 “赔偿”、“公道”、“正义”的反复叩问，是对制度回响的绝望呼唤。
                    </p>
					<div class="mt-4">
					<img src="comics/hug.png" alt="鼓励" class="w-full h-auto rounded-lg" style="width: 80%; height: auto;">
					</div>
                </div>
				<div class="md:w-1/2 relative h-[500px]">
                    <div id="emoji-layer" class="absolute inset-0 pointer-events-none overflow-visible z-10"></div>
					<img src="charts/wordcloud-1.png" alt="词云图">
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fa fa-angle-down"></i>
        </div>
    </section>

    <!-- 第4页：二、数据认知：司法下的权势性侵 -->
    <section id="page4" class="section bg-white">
        <div class="content-container">
            <h2 class="section-title">二、数据认知：司法下的权势性侵</h2>
            <div class="flex flex-col gap-8">
                <div>
                    <h3 class="text-xl font-bold text-dark mb-4 text-center">案件比例</h3>
                    <div id="labels" class="flex flex-wrap justify-center gap-4 mb-8">
                        <div class="label teacher" draggable="true" data-type="teacher">教师</div>
                        <div class="label relative" draggable="true" data-type="relative">亲属</div>
                        <div class="label work" draggable="true" data-type="work">职场</div>
                    </div>
                    <div id="bar-container" class="w-full max-w-3xl h-16 rounded-full bg-gray-200 relative overflow-hidden mx-auto">
                        <div id="teacher-fill" class="fill-segment bg-primary" style="width: 0;"></div>
                        <div id="relative-fill" class="fill-segment bg-secondary" style="width: 0;"></div>
                        <div id="work-fill" class="fill-segment bg-accent" style="width: 0;"></div>
                        <div id="text-overlay" class="text-lg font-bold text-center">拖拽身份标签到这里，查看案件占比</div>
                    </div>
                    <div id="footnote" class="mt-6 text-sm text-gray-600 text-center"></div>
                </div>
                <div class="flex flex-col md:flex-row gap-8">
                    <div class="md:w-1/2">
                        <p class="mb-6 first-indent">
                            常见的权势性侵案件可以大致分为三类亲属、师生、职场，施暴者通常为亲属（父亲、继父等）、教师（含教练、家教、补习老师等）、上司。我们将刑事案件中的刑罚定义为两类，拘役和五年以下有期徒刑为轻刑罚，五年以上有期徒刑和无期徒刑为重刑罚，以量刑判断案件恶劣程度。
                        </p>
                        <p class="mb-6 first-indent">
                            从图中柱状可以直观看到，师生一类性侵案件在近十年（2014-2024年）发生最多，共有70件，约占三类案件整体的54%。师生关系性侵的高发性，是权力结构、社会心理与制度漏洞的共同结果。教师掌控多重核心资源，师生间形成权力不对等环境。社会对教师的职业道德神化，导致公众舆论容易偏向对受害者的加害。在2021年的宁波华茂外国语学校教师性侵案中，校方调查通告将两人关系定位为因感情发生性关系，引导公众将舆论对准受害者，营造“学生爱上老师”的戏码。其次，教育行为与教育环境为性侵创造隐蔽性，课后辅导、家访等场景规避了第三方的监管，方便犯罪者披着学习教育的外衣进行性侵害。
                        </p>
                        <p class="mb-6 first-indent">
                            图表数据显示，在师生关系的刑事性侵案件中，大多数为轻刑罚。教育制度存在包庇性，校方处置以“息事宁人”为主导，教师性侵学生案件实际量刑较轻。例如广西百色教师唐某某性侵案中，校方在2023年接到学生公开指控后，第一反应是解散班级群聊封锁消息，而非启动调查。涉事教师曾获“嘉奖”荣誉，校方更倾向维护机构声誉而非保护学生。
                        </p>
                        <p class="mb-6 first-indent">
                            在图中可以看到，亲属类性侵案件刑罚在三类之中最严重，达到了24件。从法律角度，家属性侵更容易满足重刑条件。比如监护人身份直接触发刑法第236条“情节恶劣”，12岁以下未成年被害人则自动适用“强奸幼女”加重条款。另外，家属性侵因长期共居性侵多次发生的可能性更大，往往能提取到更多生物证据，容易形成证据链。
                        </p>
						<p class="mb-6 first-indent">
                            三类权势性侵本质是权力不对等关系下的暴力与掠夺。因此，国家需要完善法律法规，如在刑法中将教师等具有一定监护属性的职责身份列为法定加重情节，同时修改性同意年龄加强对未成年受害者的保护。还可以建立全国教育从业者犯罪数据库，施行性犯罪者终身禁入教育行业。
                        </p>
                    </div>
					<div class="md:w-1/2">
                        <img src="charts/2014-2024年三类权势性侵案件的数量比例关系以及恶劣程度.png" alt="三类权势性侵案件数据图" class="w-full h-auto rounded-lg shadow-md">
						<div class="mt-4 p-4 bg-white rounded-lg shadow-sm border border-gray-100">
                    <p class="text-sm text-gray-700 leading-relaxed">
                        数据来源：
					</p>
					<p class="text-sm text-gray-700 leading-relaxed">
						根据中国裁判文书网2014-2024年部分性侵、猥亵、强奸判决书，整理区分出权势性侵的类型、刑期刑罚。把刑事案件中的刑期定义为两类，一类是轻刑罚（拘役和五年以下有期徒刑），另一类是重刑罚（五年及以上有期徒刑和无期徒刑）。
					</p>
					</div>
					<div class="relative left-10" style="width: 80%;">
							<img src="comics/law.png" alt="天平" class="w-full h-auto rounded-lg relative z-10">
						</div>
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fa fa-angle-down"></i>
        </div>
    </section>

    <!-- 第5页：三、数据表里的温差 —— 案例分布藏玄机 -->
    <section id="page5" class="section bg-light">
        <div class="content-container">
            <h2 class="section-title">三、数据表里的温差 —— 案例分布藏玄机</h2>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2">
                    <p class="mb-6 first-indent">
                        近十年的各省份经济与性侵案例数量的关联性，并非简单的线性相关。
		    </p>
		    <p class="mb-6 first-indent">
			    2020 年各省份经济与性侵案例数量的关联性，并非简单的线性相关。四川经济总量不及广东，但案例数更多，这体现了人口规模、地域文化等因素的叠加影响；西藏等经济薄弱地区案例数少，并非风险就低，更可能是治理与统计未能充分覆盖。比如广东经济领先却有 47 起案例，四川以 48502 亿元的经济规模承载了 81 起案例，西藏 1903 亿元的经济总量对应 1 起案例，这些数字背后或许藏着 “未被听见的沉默”。
                    </p>
			<p>
			</p>
                    <p class="mb-6 first-indent">
                        地域差的密码 —— 案例多少为何不一样？
                    </p>
                    <p class="mb-6 first-indent">
                        经济发达地区人口流动频繁，职场、地铁、城中村等场景潜藏风险；同时居民维权意识强，案件统计更全面，并非“更危险”，而是“更敢曝光”。而经济薄弱地区像西藏、青海，地广人稀，司法力量不足（比如在中华人民共和国最高人民法院官网数据显示，截至 2024 年，广东除了420个人民法庭之外，还建立789个诉讼服务站、法官联络点，228个网上巡回法庭。而人民法院报显示，西藏共有 74 个基层法院，平均每个基层法院需覆盖约 1.6 万平方公里、技术落后（西藏 DNA 实验室以常规 STR 分型为主，复杂案件处理依赖外部支援,广东在 DNA 取证中广泛应用大数据和 AI 技术。），再加上观念陈旧，导致案件被“隐藏”，不是真的少，而是“没被看见”。
                    </p>
                    <p class="mb-6 first-indent">
                        因此，我国应统筹分配司法资源，让那些因司法光照不足的“隐秘角落”亮起来；提升民众的维权意识，让“沉默的声音”喊出来；拓宽维权渠道，稳稳接住人民的声音。
                    </p>
                </div>
				<div class="md:w-1/2">
                    <img src="charts/2014-2024各省份经济与案例数量关联性.gif" alt="2014-2024各省份经济与案例数量关联性" class="w-full h-auto rounded-lg shadow-md">
					<div class="mt-4 p-4 bg-white rounded-lg shadow-sm border border-gray-100">
                    <p class="text-sm text-gray-700 leading-relaxed">
                        数据来源：
					</p>
					<p class="text-sm text-gray-700 leading-relaxed">
						1.中国裁判文书网 关键词：性侵、猥亵、强奸 年份：2014-2024
					</p>
					<p class="text-sm text-gray-700 leading-relaxed">
						2.国家统计局 年份：2014-2024
					</p>
					<p class="text-sm text-gray-700 leading-relaxed">
						最后整理出省份、地区生产总值、文书数量。
                    </p>
					</div>
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fa fa-angle-down"></i>
        </div>
    </section>

    <!-- 第6页：四、隐案的显影剂 —— “看不到” 不等于 “不存在”，“沉默的声音不再沉默”，更多隐案被看见。 -->
    <section id="page6" class="section bg-white">
        <div class="content-container">
            <h2 class="section-title">四、隐案的显影剂 —— “看不到” 不等于 “不存在”</h2>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2">
                    <p class="mb-6 first-indent">
                        整体来看，2014-2019 年前后，三类案件文书量多呈上升或波动上升趋势，这反映出社会对性侵类案件的关注度提升、司法机关主动治理发力，更多案件进入了统计流程。2014-2019年是司法 “显效” 期：强奸案件的文书数量从 2014 年的 3061 份逐步攀升，2019年前后达到 4276 份的峰值；猥亵案件的文书数量从 715 份增至 2045 份；性侵案件的文书数量则从 45 份增至 237 份，这是 “微小伤害被正视” 的过程。
                    </p>
                    <p class="mb-6 first-indent">
                        这背后，首先是法律认定的细化驱动：2015 年《刑法修正案（九）》细化了猥亵罪认定，明确 “公共场所猥亵” 等情形入刑；2014-2020 年强制报告制度推行，要求校园、托管机构等密切接触未成年人的行业，发现猥亵必须报案，让对“未成年人”的“隐性侵犯”更为难以遁形。
                    </p>
                    <p class="mb-6 first-indent">
                        其次得益于跨部门协同发力，以宁波为例，2019 年 12 月，宁波市检察院联合公安、教育等 12 部门出台《密切接触未成年人行业入职查询办法》，建立覆盖全国的性侵违法犯罪记录数据库，比如余姚市检察院认为王某的行为可能涉嫌刑事犯罪，公安机关仅作行政拘留处罚不当，故将线索移交宁波市某区检察院进一步开展立案监督工作。在国家和社会的助力下，越来越多的案件被看见。比如广东 2020 年推行 “一站式” 取证机制，集询问、取证、心理疏导于一体，降低了受害者的报案顾虑。社会普法工程的助力，2016-2019 年 “法治进校园” 活动覆盖全国，媒体对性侵案件的持续曝光让公众对强奸犯罪的认知深化，更多隐案得以“浮出水面”。
                    </p>
                    <p class="mb-6 first-indent">
                        2019年后，三类案件文书量均有所下降（强奸案文书降至 449 份，猥亵案文书降至 226 份，性侵案文书降至 31 份）。这既体现了治理成效显现的积极面，也隐含着经济薄弱地区案件 “应统未统” 等复杂问题。比如因警力不足、取证周期长导致的未录入统计问题；或是非刑处理分流，2021 年习近平总书记提出 “完善预防性法律制度”，部分地区尝试将治安调解与训诫结合，探索轻微违法案件的非监禁化处理路径。例如，江苏、浙江等地公安机关在 “枫桥经验” 框架下，针对情节轻微、未造成实质性伤害的猥亵行为，尝试通过调解修复社会关系，同时以训诫强化教育威慑来解决纠纷；又或是因传统观念束缚，受害者觉得 “羞耻” 且维权渠道狭窄而未报案，案件的 “沉默” 掩盖了真实伤害。
                    </p>
					<p class="mb-6 first-indent">
						若能推进司法资源均衡（比如为薄弱地区建设 “移动司法站”）、深化观念普法（通过乡村广播 + 短视频宣传），短期内案件文书量或许会 “企稳”（更多隐案被挖掘），长期随着治理成效累加将 “缓降”，反映出真实的犯罪遏制态势。若资源差距持续存在、观念未能破冰，数据可能会 “低位震荡”，掩盖真实的犯罪状况，导致部分伤害持续 “沉默”。
					</p>
                </div>
				<div class="md:w-1/2">
                    <img src="charts/2014-2024 年性侵类案件文书数量趋势强奸性侵猥亵对比.png" alt="性侵类案件文书数量趋势图" class="w-full h-auto rounded-lg shadow-md">
					<div class="mt-4 p-4 bg-white rounded-lg shadow-sm border border-gray-100">
                    <p class="text-sm text-gray-700 leading-relaxed">
                        数据来源：
					</p>
					<p class="text-sm text-gray-700 leading-relaxed">
						根据中国裁判文书网2014-2024年部分性侵、猥亵、强奸判决书，整理区分出权力性侵类别、文书数量、年份。
					</p>
					</div>
					<div class="mt-4">
					<img src="comics/page6.png" alt="法律援助中心" class="w-full h-auto rounded-lg shadow-md">
					</div>
                </div>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fa fa-angle-down"></i>
        </div>
    </section>

    <!-- 第7页：结语：性侵案件的多维镜像：伤害、诉求与治理叩问 -->
    <section id="page7" class="section bg-light">
    
    <!-- 右下角背景图 -->
    <div class="absolute bottom-8 right-8">
        <img src="comics/girl2.png" alt="女孩展翅高飞" class="w-[480px] h-auto opacity-80 hover:opacity-80 transition-opacity duration-300">
    </div>
        <div class="content-container relative z-10">
            <h2 class="section-title">结语：性侵案件的多维镜像：伤害、诉求与治理叩问</h2>
			<!-- 左上角背景图 -->
    <div class="absolute top-75 left-8">
        <img src="comics/sun.png" 
             alt="太阳" 
             class="w-48 h-auto opacity-80 hover:opacity-70 transition-opacity duration-300">
    </div>
            <div class="conclusion">
                <p class="mb-6 first-indent">
                    这些或愤怒谴责、或揪心呼吁的评论词云，亲属、师生、职场场景下量刑差异的呈现，地域经济与案例数量关联的分布图谱，以及性侵类案件文书数量的时间曲线，共同织就性侵案件的复杂现实。
				</p>
				<p class="mb-6 first-indent">
					不同场景与关系里，伤害各有形态，社会对严惩恶行的诉求同频共振，却也显露出司法资源、舆论聚焦与治理实践间的缝隙。
				</p>
				<p class="mb-6 first-indent">
					每一组数据、每一个词汇背后，都是个体创伤与社会治理命题的深刻缠绕，提醒我们守护安全、捍卫正义的漫漫长路，要跨越认知与地域的沟壑，让 “严惩” 不再只是激昂呼声，真正成为每起案件中触手可及的公平正义，照亮那些曾被黑暗遮蔽的角落 。
                </p>
            </div>
        </div>
        <div class="scroll-indicator">
            <i class="fa fa-angle-down"></i>
        </div>
    </section>

<!-- 第8页：污名化词云净化器 -->
<section id="page8" class="section bg-white">
    <div class="content-container text-center mb-6">
        <h2 class="section-title">污名化词云净化器</h2>
		<h3 class="text-xl font-bold mb-2">最后，请用鼠标拖动你的鼓励，驱散污名化词语</h3>
    </div>
    <div id="negative-area"></div>
    <div id="positive-pool"></div>
    <div class="scroll-indicator">
        <i class="fa fa-angle-down"></i>
    </div>
</section>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-8">
        <div class="content-container">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-xl font-bold mb-2">不想看你受一样的伤害——数说权力性侵下的共同救赎</h3>
                    <p class="text-gray-300">关注性侵问题，共建和谐社会</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#" class="text-white hover:text-primary transition-colors">
                        <i class="fa fa-weibo text-xl"></i>
                    </a>
                    <a href="#" class="text-white hover:text-primary transition-colors">
                        <i class="fa fa-wechat text-xl"></i>
                    </a>
                    <a href="#" class="text-white hover:text-primary transition-colors">
                        <i class="fa fa-envelope text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // 导航栏滚动效果
        const mainNav = document.getElementById('main-nav');
        const navLinks = document.querySelectorAll('.nav-link');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const startBtn = document.getElementById('start-btn');
        const musicToggle = document.getElementById('music-toggle');
        const bgMusic = document.getElementById('bg-music');

        // 移动端菜单切换
        mobileMenuBtn.addEventListener('click', () => {
            if (mobileMenu.classList.contains('opacity-0')) {
                mobileMenu.classList.remove('opacity-0', '-translate-y-full', 'pointer-events-none');
                mobileMenu.classList.add('opacity-100', 'translate-y-0', 'pointer-events-auto');
                mobileMenuBtn.innerHTML = '<i class="fa fa-times"></i>';
            } else {
                mobileMenu.classList.add('opacity-0', '-translate-y-full', 'pointer-events-none');
                mobileMenu.classList.remove('opacity-100', 'translate-y-0', 'pointer-events-auto');
                mobileMenuBtn.innerHTML = '<i class="fa fa-bars"></i>';
            }
        });

        // 点击导航链接关闭移动端菜单
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('opacity-0', '-translate-y-full', 'pointer-events-none');
                mobileMenu.classList.remove('opacity-100', 'translate-y-0', 'pointer-events-auto');
                mobileMenuBtn.innerHTML = '<i class="fa fa-bars"></i>';
            });
        });

        // 滚动时导航栏样式变化
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                mainNav.classList.add('py-2', 'shadow-lg');
                mainNav.classList.remove('py-3', 'shadow-md');
            } else {
                mainNav.classList.remove('py-2', 'shadow-lg');
                mainNav.classList.add('py-3', 'shadow-md');
            }
        });

        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80, // 减去导航栏高度
                        behavior: 'smooth'
                    });
                }
            });
        });

        // 开始按钮点击
        startBtn.addEventListener('click', () => {
            window.location.href = 'charts/情感体会.html';
        });

        // 音乐控制
        let isMusicPlaying = false;
        musicToggle.addEventListener('click', () => {
            if (isMusicPlaying) {
                bgMusic.pause();
                musicToggle.innerHTML = '<i class="fa fa-music text-3xl"></i>';
            } else {
                bgMusic.play();
                musicToggle.innerHTML = '<i class="fa fa-music text-3xl music-spin"></i>';
            }
            isMusicPlaying = !isMusicPlaying;
        });

        // 初始化页面1的词云
        function initPage1() {
            const words = [
                { text: " ", color: "#ff6b8b" },
                
            ];

            const container = document.getElementById('emoji-layer');
            if (!container) return;

            words.forEach((word, index) => {
                setTimeout(() => {
                    const wordEl = document.createElement('div');
                    wordEl.className = 'word-item animate-appear';
                    wordEl.style.color = word.color;
                    wordEl.style.fontSize = `${Math.random() * 20 + 24}px`;
                    wordEl.style.top = `${Math.random() * 70 + 15}%`;
                    wordEl.style.left = `${Math.random() * 70 + 15}%`;
                    wordEl.style.animationDelay = `${Math.random() * 2}s`;
                    wordEl.textContent = word.text;
                    container.appendChild(wordEl);
                }, index * 300);
            });
        }

        // 初始化页面3的emoji动画
        function initPage3() {
            const container = document.getElementById('emoji-layer');
            if (!container) return;

            // 清空之前的emoji
            container.innerHTML = '';

            const emojis = ['😢', '😔', '😣', '😖', '😫', '😩', '😭', '😰'];
            const containerRect = container.getBoundingClientRect();

            // 创建emoji元素
            for (let i = 0; i < 20; i++) {
                const emoji = document.createElement('div');
                emoji.className = 'emoji';
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.left = `${Math.random() * 100}%`;
                emoji.style.top = `${Math.random() * 100}%`;
                emoji.style.opacity = Math.random() * 0.8 + 0.2;
                container.appendChild(emoji);

                // 设置emoji动画
                animateEmoji(emoji);
            }

            // 动画函数
            function animateEmoji(emoji) {
                const duration = Math.random() * 5 + 5; // 5-10秒
                const startX = parseFloat(emoji.style.left);
                const startY = parseFloat(emoji.style.top);
                const endX = startX + (Math.random() * 40 - 20); // -20到20的随机偏移
                const endY = startY + (Math.random() * 40 - 20); // -20到20的随机偏移

                // 确保emoji不会移出容器
                const constrainedEndX = Math.max(0, Math.min(100, endX));
                const constrainedEndY = Math.max(0, Math.min(100, endY));

                // 应用动画
                emoji.style.transition = `left ${duration}s linear, top ${duration}s linear, opacity ${duration/2}s ease-in-out`;
                
                // 等待一小段时间后开始动画
                setTimeout(() => {
                    emoji.style.left = `${constrainedEndX}%`;
                    emoji.style.top = `${constrainedEndY}%`;
                    emoji.style.opacity = Math.random() * 0.8 + 0.2;

                    // 动画结束后重新开始
                    setTimeout(() => animateEmoji(emoji), duration * 1000);
                }, 100);
            }
        }

        // 初始化页面4的拖拽交互
        function initPage4() {
            const cases = {
                teacher: 70,
                relative: 44,
                work: 16
            };
            const total = 130;

            const draggedSet = new Set();

            const teacherFill = document.getElementById('teacher-fill');
            const relativeFill = document.getElementById('relative-fill');
            const workFill = document.getElementById('work-fill');
            const textOverlay = document.getElementById('text-overlay');
            const barContainer = document.getElementById('bar-container');
            const footnote = document.getElementById('footnote');

            const currentCounts = {
                teacher: 0,
                relative: 0,
                work: 0
            };

            function enableLabel(type) {
                const label = document.querySelector(`.label[data-type="${type}"]`);
                if (label) {
                    label.classList.remove('disabled');
                    label.setAttribute('draggable', 'true');
                    label.style.cursor = 'grab';
                }
            }

            function disableLabel(type) {
                const label = document.querySelector(`.label[data-type="${type}"]`);
                if (label) {
                    label.classList.add('disabled');
                    label.setAttribute('draggable', 'false');
                    label.style.cursor = 'not-allowed';
                }
            }

            // 设置拖拽事件
            const labels = document.querySelectorAll('.label');
            labels.forEach(label => {
                label.addEventListener('dragstart', e => {
                    e.dataTransfer.setData('text/plain', label.dataset.type);
                    label.classList.add('opacity-50');
                });

                label.addEventListener('dragend', () => {
                    label.classList.remove('opacity-50');
                });
            });

            // 设置放置区域
            if (barContainer) {
                barContainer.addEventListener('dragover', e => {
                    e.preventDefault();
                    barContainer.classList.add('bg-gray-300');
                });

                barContainer.addEventListener('dragleave', () => {
                    barContainer.classList.remove('bg-gray-300');
                });

                barContainer.addEventListener('drop', e => {
                    e.preventDefault();
                    barContainer.classList.remove('bg-gray-300');
                    const type = e.dataTransfer.getData('text/plain');
                    if (!cases[type]) return;
                    if (draggedSet.has(type)) return;

                    draggedSet.add(type);
                    currentCounts[type] = cases[type];
                    disableLabel(type);
                    updateBar();
                });
            }

            function updateBar() {
                if (!textOverlay || !teacherFill || !relativeFill || !workFill || !footnote) return;

                const sum = currentCounts.teacher + currentCounts.relative + currentCounts.work;
                const textParts = [];

                if (currentCounts.teacher > 0) {
                    const p = (currentCounts.teacher / total) * 100;
                    textParts.push(`教师 ${currentCounts.teacher}（${p.toFixed(1)}%）`);
                }
                if (currentCounts.relative > 0) {
                    const p = (currentCounts.relative / total) * 100;
                    textParts.push(`亲属 ${currentCounts.relative}（${p.toFixed(1)}%）`);
                }
                if (currentCounts.work > 0) {
                    const p = (currentCounts.work / total) * 100;
                    textParts.push(`职场 ${currentCounts.work}（${p.toFixed(1)}%）`);
                }

                textOverlay.textContent = textParts.length > 0
                   ? textParts.join("　") // 中文空格隔开
                    : '拖拽身份标签到这里，查看案件占比';

                const teacherPercent = (currentCounts.teacher / total) * 100;
                const relativePercent = (currentCounts.relative / total) * 100;
                const workPercent = (currentCounts.work / total) * 100;

                teacherFill.style.left = '0';
                teacherFill.style.width = teacherPercent + '%';

                relativeFill.style.left = teacherPercent + '%';
                relativeFill.style.width = relativePercent + '%';

                workFill.style.left = (teacherPercent + relativePercent) + '%';
                workFill.style.width = workPercent + '%';

                const ratio = sum / 4427;
                footnote.textContent = sum > 0
                   ? `已显示案件共 ${sum} 起，占2014-2024年猥亵、性侵、强奸案已有数据的 4427 起案件的 ${(ratio * 100).toFixed(1)}%`
                    : '';
            }
        }

// 初始化页面8的污名化词云净化器
function initPage8() {
    const negativeWords = [
        "不检点", "价钱没谈妥", "轻浮", "水性杨花", "勾引", "心甘情愿",
        "不自爱", "欲盖弥彰", "装可怜", "作风问题", "情绪不稳定", "神经质"
    ];
    const positivePoolBase = [
        "无罪", "勇敢", "不应羞耻", "值得尊重", "反抗者", "有力量",
        "自尊", "你是光", "真相说出口", "她不该沉默", "不被定义", "你不是错的",
        "无可指责", "正义", "边界清晰", "清白", "有尊严", "发声", "不再沉默", "平等"
    ];

    const negativeArea = document.getElementById('negative-area');
    const positivePool = document.getElementById('positive-pool');
    let negIndex = 0;

    function showNextNegativeWord() {
        if (negIndex >= negativeWords.length) {
            negativeArea.innerHTML = "<div style='font-size: 3vw; color: #2e7d32;'>🎉 所有词已被净化完毕 🎉</div>";
            return;
        }

        const word = negativeWords[negIndex++];
        const el = document.createElement('div');
        el.className = 'negative-word';
        el.textContent = word;
        el.setAttribute('droppable', 'true');

        // 允许拖拽元素放置
        el.ondragover = e => e.preventDefault();
        el.ondrop = function(e) {
            e.preventDefault();
            const newWord = e.dataTransfer.getData("text/plain");
            this.textContent = newWord;
            this.classList.remove('negative-word');
            this.classList.add('positive-large');
            this.setAttribute('draggable', 'false');

            // 淡出效果
            setTimeout(() => {
                this.style.animation = 'fadeOut 0.6s forwards';
            }, 1200);

            // 显示下一个负面词
            setTimeout(() => {
                negativeArea.innerHTML = '';
                showNextNegativeWord();
            }, 2000);
        };

        negativeArea.innerHTML = '';
        negativeArea.appendChild(el);
    }

    function renderPositiveWords() {
        positivePool.innerHTML = '';
        // 随机打乱并选择10个积极词汇
        const shuffled = [...positivePoolBase].sort(() => 0.5 - Math.random());
        const selected = shuffled.slice(0, 10);
        
        selected.forEach(word => {
            const el = document.createElement('div');
            el.className = 'positive-word';
            el.textContent = word;
            el.setAttribute('draggable', 'true');
            // 拖拽开始时传递词汇
            el.ondragstart = e => e.dataTransfer.setData("text/plain", word);
            positivePool.appendChild(el);
        });
    }

    // 初始化
    renderPositiveWords();
    showNextNegativeWord();
    // 每10秒刷新积极词汇池
    setInterval(renderPositiveWords, 10000);
}

        // 监听滚动事件，更新导航高亮
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section');
            let currentSectionId = '';

            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.offsetHeight;
                if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                    currentSectionId = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSectionId}`) {
                    link.classList.add('active');
                }
            });
        });

        // 初始化
        window.addEventListener('load', () => {
            initPage1();
            // 监听页面可见性变化，控制音乐
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    if (isMusicPlaying) {
                        bgMusic.pause();
                    }
                } else {
                    if (isMusicPlaying) {
                        bgMusic.play();
                    }
                }
            });
        });

        // 检查元素是否在视口中
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.bottom >= 0
            );
        }
const pageInited = {
  page8: false // 关键：初始化为false，允许首次执行
};
        // 监听滚动，初始化可见元素
        window.addEventListener('scroll', () => {
            if (isElementInViewport(document.getElementById('page3'))) {
                initPage3();
            }
            if (isElementInViewport(document.getElementById('page4'))) {
                initPage4();
            }
            const page8 = document.getElementById('page8');
    // 只在首次进入视口时执行一次
    if (page8 && isElementInViewport(page8) && !pageInited.page8) {
        initPage8();
        pageInited.page8 = true; // 标记为已初始化
    }
        });
		// 在现有<script>标签内添加以下代码
document.addEventListener('DOMContentLoaded', function() {
    const musicToggle = document.getElementById('music-toggle');
    const bgMusic = document.getElementById('bg-music');
    const musicIcon = musicToggle.querySelector('i');
    
    // 初始化音乐状态
    let isPlaying = false;
	// 初始化音乐图标状态（默认不旋转）
musicIcon.classList.remove('music-spin');
    
    // 音乐按钮点击事件
    musicToggle.addEventListener('click', function() {
        if (isPlaying) {
            bgMusic.pause();
            musicIcon.classList.remove('fa-pause', 'music-spin');
            musicIcon.classList.add('fa-music');
        } else {
            bgMusic.play().catch(error => {
                console.log('音乐播放需要用户交互:', error);
                // 自动播放失败时可以显示提示
                alert('请点击播放按钮开启背景音乐');
            });
            musicIcon.classList.remove('fa-music');
            musicIcon.classList.add('fa-pause', 'music-spin');
        }
        isPlaying = !isPlaying;
    });
    
    // 页面交互时尝试自动播放（提升自动播放成功率）
    document.body.addEventListener('click', function enableAudio() {
        if (!isPlaying) {
            bgMusic.load();
        }
        document.body.removeEventListener('click', enableAudio);
    }, { once: true });
});
    </script>
</body>

</html>    
